//using Ma7ali.DashBoard.Data.Data.Contexts;
////using Ma7ali.DashBoard.Repository;
//using Microsoft.EntityFrameworkCore;

//namespace Ma7aliDashBoard.Api.Helper
//{
//    public static class DataBaseInitailizer
//    {
//        public static async Task InitializeAsync(IServiceProvider _serviceProvider)
//        {
//            using (var scope = _serviceProvider.CreateScope())  // Group of Service which life time is  scoped 
//            {
//                //  var serviceProvider = scope.ServiceProvider; //Sercices it self
//                //var loggerFactory = serviceProvider.GetRequiredService<ILoggerFactory>();

//                //try
//                //{
//                //    var context = serviceProvider.GetRequiredService<Ma7aliContext>();
//                //    await context.Database.MigrateAsync();
//                //    await SeedingContext.SeedingAsync(context, loggerFactory);
//                //}
//                //catch (Exception e)
//                //{

//                //    var logs = loggerFactory.CreateLogger<Program>();
//                //    logs.LogError("in program  " + e.Message.ToString());
//                //}
//            }
//        }
//    }
//}
